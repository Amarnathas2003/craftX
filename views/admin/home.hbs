{{>admin-navbar}}


<section>

   <div class="container-fluid">
      <div class="row">


         {{>admin-left-menue}}

         <div class="col-md-8 " style="width: 1000px;">

            <section class="category d-flex mt-2">
               <div class="object-fit-contain mt-3" style="width: 100%;">
                  <div class="header d-flex justify-content-between">
                     <h3 class="h3 text-second fw-bold mb-3">DashBoard</h3>
                  </div>

                  <div class="canvas-container">
                     <canvas id="myChart">

                     </canvas>
                  </div>


                  <div class="d-flex mt-3">
                     <div class="card-container">
                        <h4>Orders Today</h4>
                        <div class="card bg-success" style="width: 18rem; height: 3rem;">
                           <div class="card-body"></div>
                        </div>
                     </div>

                     <div class="card-container">
                        <h4 style="margin-left: 30px;">Orders this Month</h4>
                        <div class="card bg-warning" style="width: 18rem; height: 3rem; margin-left: 2rem;">
                           <div class="card-body"></div>
                        </div>
                     </div>

                     <div class="card-container">
                        <h4 style="margin-left: 30px;">Orders this Year</h4>
                        <div class="card bg-primary" style="width: 18rem; height: 3rem; margin-left: 2rem;">
                           <div class="card-body"></div>
                        </div>
                     </div>
                  </div>
                  <hr>



                  <div class="d-flex mb-4 mt-4">
                     <div class="card bg-success" style="width: 18rem; height: 8rem;">
                        <div class="card-body">
                           <h4>Total Amount</h4>
                        </div>
                     </div>
                     <div class="card bg-warning" style="width: 18rem; margin-left: 2rem;">
                        <div class="card-body">
                           <h4>Total Amount</h4>
                        </div>
                     </div>
                     <div class="card bg-primary" style="width: 18rem; margin-left: 2rem;">

                        <div class="card-body">
                           <h4>Total Amount</h4>
                        </div>
                     </div>
                     <hr>
                  </div>

               </div>
            </section>
         </div>
      </div>
   </div>
   </div>
</section>


<script>
   $(document).ready(async () => {
      try {
         const response = await fetch('/admin/get-sales-data', {
            method: 'GET',
         });

         if (response.ok) {
            const fetchedData = await response.json();
            console.log("Fetched data from the server", fetchedData);

            createChart(fetchedData);
         } else {
            console.error('Data fetch failed', response.status);
         }
      } catch (error) {
         console.error('Error:', error);
      }
   });


   function createChart(data) {
      const chartData = {
         labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
         datasets: [
            {
               label: 'Sample Data',
               data: data,
               backgroundColor: 'rgba(75, 192, 192, 0.2)',
               borderColor: 'rgba(75, 192, 192, 1)',
               borderWidth: 1,
            },
         ],
      };

      const config = {
         type: 'bar',
         data: chartData,
         options: {
            scales: {
               y: {
                  beginAtZero: true,
               },
            },
         },
      };

      const canvas = document.getElementById('myChart');
      if (canvas) {
         const ctx = canvas.getContext('2d');
         new Chart(ctx, config);
      } else {
         console.error('Canvas element not found.');
      }
   }

</script>





<style>
   a {
      text-decoration: none;
      margin-left: 10px;
   }
</style>